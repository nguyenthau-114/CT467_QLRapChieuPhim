<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.Separator?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.control.DatePicker?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.ColumnConstraints?>
<?import javafx.scene.layout.GridPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Pane?>
<?import javafx.scene.layout.RowConstraints?>
<?import javafx.scene.layout.VBox?>

<BorderPane prefHeight="700" prefWidth="1200"
            stylesheets="@fxml.css"
            xmlns="http://javafx.com/javafx/25"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="main.HoaDonController">

    <center>
        <VBox fillWidth="true">

            <!-- HEADER -->
            <AnchorPane VBox.vgrow="NEVER">
                <children>
                    <HBox alignment="CENTER_LEFT" prefHeight="46"
                          styleClass="header-bar"
                          AnchorPane.leftAnchor="0" AnchorPane.rightAnchor="0"
                          AnchorPane.topAnchor="0">
                        <padding><Insets bottom="3" left="20" right="20" top="3"/></padding>
                        <children>
                            <Label prefHeight="23" prefWidth="300"
                                   style="-fx-font-size:18; -fx-font-weight:bold;"
                                   text="ðŸ§¾ Quáº£n LÃ½ HÃ³a ÄÆ¡n"/>
                            <Pane HBox.hgrow="ALWAYS"/>
                        </children>
                    </HBox>
                </children>
            </AnchorPane>

            <!-- MAIN CONTENT â€“ GIá»NG 100% NHANVIEN -->
            <VBox fillWidth="true" spacing="0" styleClass="main-content" VBox.vgrow="ALWAYS">

                <padding><Insets bottom="15"/></padding>

                <!-- Thanh nÃºt -->
                <HBox spacing="10">
                    <Button text="ðŸ” TÃ¬m kiáº¿m" styleClass="search-btn"
                            onAction="#moTimKiemPopup"/>
                    <Pane HBox.hgrow="ALWAYS"/>
                    <Button text="ðŸ“¤ Xuáº¥t Excel" onAction="#xuatExcel"
                            style="-fx-background-color:#22c55e;
                                   -fx-text-fill:white;
                                   -fx-font-weight:bold;
                                   -fx-background-radius:6;"/>
                </HBox>

                <!-- FORM -->
                <AnchorPane prefHeight="184">
                    <children>
                        <GridPane hgap="70" layoutX="22" layoutY="15" vgap="35">
                            <columnConstraints>
                                <ColumnConstraints percentWidth="21"/>
                                <ColumnConstraints percentWidth="29"/>
                                <ColumnConstraints percentWidth="21"/>
                                <ColumnConstraints percentWidth="29"/>
                            </columnConstraints>

                            <children>

                                <Label text="MÃ£ hÃ³a Ä‘Æ¡n:" GridPane.rowIndex="0"/>
                                <TextField fx:id="txtMaHD" GridPane.columnIndex="1" GridPane.rowIndex="0"
                                           promptText="Nháº­p mÃ£ hÃ³a Ä‘Æ¡n (VD: HD01)"/>

                                <Label text="Sá»‘ lÆ°á»£ng combo:" GridPane.rowIndex="0" GridPane.columnIndex="2"/>
                                <TextField fx:id="txtSoLuong" GridPane.columnIndex="3" GridPane.rowIndex="0"
                                           promptText="Nháº­p sá»‘ lÆ°á»£ng combo"/>

                                <Label text="NgÃ y mua:" GridPane.rowIndex="1"/>
                                <DatePicker fx:id="dpNgayMua" GridPane.columnIndex="1" GridPane.rowIndex="1"/>

                                <Label text="Tá»•ng tiá»n:" GridPane.columnIndex="2" GridPane.rowIndex="1"/>
                                <TextField fx:id="txtTongTien" GridPane.columnIndex="3" GridPane.rowIndex="1"
                                           promptText="Nháº­p tá»•ng tiá»n"/>

                                <Label text="MÃ£ khÃ¡ch hÃ ng:" GridPane.rowIndex="2"/>
                                <TextField fx:id="txtMaKH" GridPane.columnIndex="1" GridPane.rowIndex="2"
                                           promptText="Nháº­p mÃ£ khÃ¡ch hÃ ng"/>

                                <Label text="MÃ£ combo:" GridPane.columnIndex="2" GridPane.rowIndex="2"/>
                                <TextField fx:id="txtMaCombo" GridPane.columnIndex="3" GridPane.rowIndex="2"
                                           promptText="Nháº­p mÃ£ combo báº¯p nÆ°á»›c"/>

                                <Label text="MÃ£ nhÃ¢n viÃªn:" GridPane.rowIndex="3"/>
                                <TextField fx:id="txtMaNV" GridPane.columnIndex="1" GridPane.rowIndex="3"
                                           promptText="Nháº­p mÃ£ nhÃ¢n viÃªn láº­p hÃ³a Ä‘Æ¡n"/>

                            </children>
                        </GridPane>
                    </children>
                </AnchorPane>

                <!-- NÃšT CHá»¨C NÄ‚NG -->
                <HBox spacing="10">
                    <children>
                        <Button fx:id="btnThem" onAction="#onThem" styleClass="action-btn" text="ThÃªm"/>
                        <Button fx:id="btnSua" onAction="#onSua" styleClass="action-btn" text="Sá»­a"/>
                        <Button fx:id="btnXoa" onAction="#onXoa" styleClass="action-btn" text="XÃ³a"/>
                        <Button fx:id="btnTaiDuLieu" onAction="#onTaiDuLieu" styleClass="action-btn" text="Táº£i dá»¯ liá»‡u"/>
                    </children>
                </HBox>

                <!-- Báº¢NG -->
                <TableView fx:id="tableHD" VBox.vgrow="ALWAYS">
                    <columns>
                        <TableColumn fx:id="colMaHD" text="MÃ£ HÄ"/>
                        <TableColumn fx:id="colSoLuong" text="SL Combo"/>
                        <TableColumn fx:id="colNgayMua" text="NgÃ y mua"/>
                        <TableColumn fx:id="colTongTien" text="Tá»•ng tiá»n"/>
                        <TableColumn fx:id="colMaKH" text="MÃ£ KH"/>
                        <TableColumn fx:id="colMaCombo" text="MÃ£ Combo"/>
                        <TableColumn fx:id="colMaNV" text="MÃ£ NV"/>
                    </columns>
                </TableView>

            </VBox>

        </VBox>
    </center>
</BorderPane>
